"use strict";
(function(a){a.fn.photoAlignCenter=function(e){var c={cropper:".cropper",photo:".photo"},g=a.extend({},c,e),b=g.cropper,f=g.photo,d=function(h){var i=a(window),k,j;
i.off("resize.photoAlignCenter").on({"init.photoAlignCenter":function(l,m){l.stopPropagation();
h.trigger("photoContainer.init")
},"resize.photoAlignCenter":function(){if(k!==i.width()||j!==i.height()){k=i.width();
j=i.height();
i.trigger("init.photoAlignCenter",[true])
}}}).trigger("init.photoAlignCenter")
};
this.each(function(){var h=a(this);
if(!h.data("photoAlignCenter")){h.on({"photoContainer.init":function(k){var j=a(this),i=j.find(f);
k.stopPropagation();
imgSpecialized(j,function(){if(!i.is(".placeholder-image")){j.trigger("setPhotoRelativeAspectClass")
}})
},setPhotoRelativeAspectClass:function(){var k=a(this),i=k.find(b),j=k.find(f),n=i.width(),m=i.height(),l=n/m,o=j.attr("data-aspect-ratio");
i.attr({"data-width":n,"data-height":m,"data-aspect-ratio":l});
j.removeClass("rel-h rel-v").addClass(o>=l?"rel-h":"rel-v");
k.trigger("alignPhoto")
},alignPhoto:function(){var k=a(this),i=k.find(b),j=k.find(f),n=i.attr("data-width"),m=i.attr("data-height"),l=i.attr("data-aspect-ratio"),o=j.attr("data-aspect-ratio");
if(o>=l){j.css({left:(n-j.width())/2,top:0})
}else{j.css({left:0,top:(function(){var p=m-j.height();
if(o>0.75){p/=6
}else{if(o>0.6){p/=10
}else{if(o>0.5){p/=12
}else{p/=20
}}}return p
})()})
}}})
}});
d(this);
this.each(function(){a(this).data("photoAlignCenter",true)
});
return this
}
})(jQuery);